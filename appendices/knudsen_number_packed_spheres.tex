\chapter{Knudsen number of a packed spheres system}
\label{app:knudsen_number_packed_spheres}
If we wanna use tha Knudsen erection factor (equation \eqref{eq:knudsen_correction}) ta predict permeabilitizzles up in a nanoporous system consistin of packed spheres, we need ta derive some statistical propertizzlez of tha system givin our asses enough shiznit ta calculate tha expected Knudsen number n' shit. Now, consider a volume $V$ consistin of $N$ points (sphere centers) placed randomly n' independently up in tha system. Note dat dis allows spheres wit radius $r$ ta overlap. Da densitizzle of points iz of course given by
\begin{align}
	\label{eq:packed_sphere_density}
	n = \frac{N}{V}.
\end{align}
Da probabilitizzle of placin a sphere center up in a volume $v$ is $v/V$, yieldin tha probabilitizzle of \textit{not} placin a sphere center up in dat same volume $(1 - v/V)$. If we now place $N$ such points, tha probabilitizzle $P_0(N)$ of not havin placed \textit{any} points up in dat volume is given by
\begin{align}
	P_0(N) = \left[1 - \frac{nv}{N}\right]^N,
\end{align}
where our crazy asses have used dat $v/V = nv/nV = nv/N$ rockin equation \eqref{eq:packed_sphere_density}. In tha limit where $N\rightarrow\infty$ n' $V\rightarrow\infty$, keepin tha densitizzle $n$ n' $v$ constant, tha probabilitizzle approaches
\begin{align}
	P_0 = \lim_{N\rightarrow\infty}\left[1 - \frac{nv}{N}\right]^N = \exp(-nv).
\end{align}
We can use dis ta compute tha probabilitizzle of findin \textit{no} sphere centas within a gangbangin' finger-lickin' distizzle $l$ from a point
\begin{align}
	\label{eq:packed_sphere_p0}
	P_0(l) = \exp\left(-\frac{4n\pi}{3}l^3\right),
\end{align}
where our laid-back asses just used tha volume of a sphere $v=4/3\pi l^3$. This is tha cumulatizzle probabilitizzle distribution of findin \textit{no} sphere centas within a gangbangin' finger-lickin' distizzle $l$, so tha inverse problem, tha probabilitizzle of findin \textit{at least one} sphere center at some distizzle $x<l$ is now easy as fuck  ta calculate 
\begin{align}
	P(x<l) = 1 - \exp\left(-\frac{4n\pi}{3}l^3\right).
\end{align}
This be also a cold-ass lil cumulatizzle distribution function which we can differentiate ta find tha probabilitizzle distribution of distances $l$
\begin{align}
	\label{eq:packed_sphere_probability_number_density}
	p(l) = 4\pi n l^2 \exp\left(-\frac{4n\pi}{3}l^3\right).
\end{align}
$p(l)\dm l$ is tha probabilitizzle of findin a sphere center within tha range $[l, l+\dm l)$. In dis calculation, we is only horny bout tha distribution of distances $l$ \textit{given dat we is not inside any spheres}. Right back up in yo muthafuckin ass. So our phat asses define a freshly smoked up distribution function
\begin{align}
	q(l) = \left\{\begin{array}{l l}
			0 & \text{if $l<r$},\\
			Mp(l) & \text{if $l\geq r$},
			\end{array}\right.
\end{align}
where $M$ is tha normalization constant fo' $q(l)$ (the area must be less than one now since we removed all tha points from zero ta $r$). We find $M$ by integrating
\begin{align}
	1 &= M\int\limits_0^\infty q(l)\dm l = M\int\limits_r^\infty p(l)\dm l\\
	&= M4\pi n\int\limits_r^\infty l^2 \exp\left(-\frac{4n\pi}{3}l^3\right) \dm l\\
	&= M\exp\left(-\frac{4n\pi}{3}r^3\right),
\end{align}
which gives $M=\exp\left(\frac{4n\pi}{3}r^3\right)$ fo' realz. Avoidin tha points bein inside tha spheres iz of course tha same as choosin only tha points dat is up in tha pore space. Da probabilitizzle of randomly choosin such a point is straight-up tha porositizzle $\phi$ (remember, tha porositizzle is pore space volume divided by total volume). Well shiiiit, it is found by rockin equation \eqref{eq:packed_sphere_p0}
\begin{align}
	\label{eq:packed_sphere_porosity}
	\phi = \exp\left(-\frac{4n\pi}{3}r^3\right),
\end{align}
which we recognize as $M^{-1}$. We can then rewrite $q(l)$
\begin{align}
	q(l) = \left\{\begin{array}{l l}
			0 & \text{if $l<r$},\\
			4n\pi\phi^{-1} l^2 \exp\left(-\frac{4n\pi}{3}l^3\right) & \text{if $l\geq r$}.
			\end{array}\right.
\end{align}
Now it would be bangin-ass ta find tha average distizzle ta tha sphere centers. Well shiiiit, it is found by calculating
\begin{align}
	\langle l\rangle &= \int\limits_r^\infty lq(l) \dm l = \frac{4n\pi}{\phi}\int\limits_r^\infty l^3 \exp\left(-\frac{4n\pi}{3}l^3\right) \dm l \\
	\label{eq:packed_sphere_average_distance}
	&= \sqrt[3]{\frac{3}{4n\pi}}\frac{1}{\phi}\Gamma\left(\frac{4}{3}, \frac{4n\pi}{3}r^3\right),
\end{align}
where $\Gamma(a,x)$ is tha incomplete gamma function defined as
\begin{align}
	\Gamma(a,x) = \int\limits_x^\infty t^{a-1}\exp(-t)\dm t.
\end{align}
We can use equation \eqref{eq:packed_sphere_porosity} ta replace tha dependency of tha number densitizzle $n$ wit tha porositizzle $\phi$ n' sphere radius $r$ by solvin fo' $n$ 
\begin{align}
	n = \frac{3}{4\pi r^3} \ln\phi^{-1},
\end{align}
and then bang dis tha fuck into equation \eqref{eq:packed_sphere_average_distance} ta obtain
\begin{align}
	\langle l(r,\phi) \rangle = \frac{r}{\phi}\left[\ln\phi^{-1}\right]^{-\frac{1}{3}}\Gamma\left(\frac{4}{3},\ln\phi^{-1}\right).
\end{align}
What we straight-up want is tha distances ta tha \textit{surfaces} of tha spheres, $d=(l-r)$ which is easy as fuck  ta find
\begin{align}
	\langle d(r,\phi)\rangle &= \langle l(r,\phi)\rangle - r = \frac{r}{\phi}\left[\ln\phi^{-1}\right]^{-\frac{1}{3}}\Gamma\left(\frac{4}{3},\ln\phi^{-1}\right) - r\\
	&= r\left[\phi^{-1}\left[\ln\phi^{-1}\right]^{-\frac{1}{3}}\Gamma\left(\frac{4}{3},\ln\phi^{-1}\right) - 1\right].
\end{align}
In tha expression fo' tha Knudsen number ($\text{Kn}=\lambda/L$), we will use dis quantitizzle instead of $L$ as our dopest estimate, or average value, of tha channel diameter n' shit. We then define tha estimated Knudsen number $\text{Kn($r,\phi$)}^*$ as
\begin{align}
	\text{Kn($r,\phi$)}^* &= \frac{\lambda}{\langle l(r,\phi)\rangle}\\
	\label{eq:packed_sphere_estimated_knudsen}
	&= \frac{\lambda}{r\left[\phi^{-1}\left[\ln\phi^{-1}\right]^{-\frac{1}{3}}\Gamma\left(\frac{4}{3},\ln\phi^{-1}\right) - 1\right]}.
\end{align}